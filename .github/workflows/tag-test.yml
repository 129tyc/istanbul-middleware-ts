name: Tag Test Debug

on:
  push:
    tags:
      - "v*"

jobs:
  debug-tag:
    runs-on: ubuntu-latest
    
    steps:
      - name: Debug Tag Information
        run: |
          echo "🏷️ Tag pushed: ${{ github.ref }}"
          echo "📋 Repository: ${{ github.repository }}"
          echo "🔍 Event name: ${{ github.event_name }}"
          echo "📝 Ref: ${{ github.ref }}"
          echo "🎯 Ref type: ${{ github.ref_type }}"
          echo "📦 Ref name: ${{ github.ref_name }}"
          
      - name: Check if tag matches pattern
        run: |
          if [[ "${{ github.ref }}" =~ ^refs/tags/v[0-9]+\.[0-9]+\.[0-9]+.*$ ]]; then
            echo "✅ Tag matches version pattern"
          else
            echo "❌ Tag does NOT match version pattern"
          fi
          
      - name: Test startsWith condition
        run: |
          if [[ "${{ github.ref }}" == refs/tags/v* ]]; then
            echo "✅ startsWith condition would be true"
          else
            echo "❌ startsWith condition would be false"
          fi 